---
title: 密钥验证
sidebar_position: 0
---

import CodeRef from '@site/src/components/CodeRef';
import Ruby from '@site/src/components/Ruby';

虽然文件密钥是随机生成的，但酷狗的音乐播放器会对该密钥的合法性进行验证。

该解密库也实现了这个检查，并将在签名不合法的时候抛出错误。

## 签名验证

KGM 解密器在初始化后，会对 `file_sig` 进行解密操作（使用偏移 `0`）。

解密结束后的内容应等于该预设内容：

```text
0000h  38 85 ED 92 79 5F F8 4C B3 03 61 41 16 A0 1D 47  8…í’y_øL³.aA...G 
```

---

相关代码：

- <CodeRef at="1dcb48a" file="src/kugou/kgm_crypto_factory.rs#L52-L59" />
